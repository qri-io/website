<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta name="generator" content="Hugo 0.44" />
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> CLI commands </title>

  
  <meta name="description" content="qri command line reference"> 
  
  
  
  
  

  

  <meta name="author" content="qri">


  <meta property="og:title" content="CLI commands" />
<meta property="og:description" content="qri command line reference" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://qri.io/docs/reference/cli_commands/" />



<meta property="article:published_time" content="2018-01-30T00:00:00-04:00"/>

<meta property="article:modified_time" content="2018-01-30T00:00:00-04:00"/>











  




  
  
  
  
  

  <link rel="canonical" href="https://qri.io/docs/reference/cli_commands/">  

  <link href="../../../favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="../../../css/font.css" rel="stylesheet" type="text/css">
  <link href="../../../css/qri.css" rel="stylesheet" type="text/css">
  

  <script src="../../../js/jquery-2.1.4.min.js" type="text/javascript"></script>
  <link rel="stylesheet" href="../../../css/highlight.default.min.css">
  <link rel="stylesheet" href="../../../css/highlight.theme.tomorrow.css">
  <script src="../../../js/highlight.pack.js"></script>
  <script>
    window.onload = function(e) {
      let elements = document.querySelectorAll('.highlight pre')
      Array.from(elements).forEach((block, i) => {
        hljs.highlightBlock(block)
      })
    }
  </script>

  <script type="text/javascript" src="../../../js/tocbot.min.js"></script>

  
    <script type="text/javascript">
     !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
      analytics.load("b4iAxJT8ISitRFQ6qZGS9w7RTnaOpvju");
      analytics.page()
    }}();
    </script>
  
</head>


<body class="page-kube docs " >
  <header></header>
  <main>
<div id="docs_page" class="docs">
  <nav id="docs_sidebar">
  <div class="content">
    <div class="logotype">
      <a href="../../../" title="home" class="title">qri</a>
      <p class="subhead">docs</p>
    </div>
    <div class="pages">
      <p><b>reference</b></p>
      <ul>
        
        
          <li><a href="../../../docs/reference/cli_commands">CLI reference</a></li>
        
          <li><a href="../../../docs/reference/dataset">Dataset</a></li>
        
          <li><a href="../../../docs/reference/starlib">Starlark Standard Library</a></li>
        
          <li><a href="../../../docs/reference/skylark_syntax">Starlark Syntax</a></li>
        
          <li><a href="../../../docs/reference/html_templates">Viz Templates</a></li>
        
      </ul>
    </div>
    <hr />
    <p><i>Jump to:</i></p>
    <ul class="docs_sections">
      <li><a href="../../../docs">Docs Home</a></li>
      <li><a href="../../../docs/concepts">Concepts</a></li>
      <li><a href="../../../docs/reference">Reference</a></li>
      <li><a href="../../../docs/tutorials">Tutorials</a></li>
    </ul>
  </div>
  <br />
</nav>
  <section id="main">
    <div class="content">
      

<h1 id="qri-cli-command-line-reference">Qri CLI command line reference</h1>

<p>Qri (&ldquo;query&rdquo;) is a global dataset version control system
on the distributed web.</p>

<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><a href="#qri_add">qri add</a></td>
<td>Add a dataset from another peer</td>
</tr>

<tr>
<td><a href="#qri_body">qri body</a></td>
<td>Get the body of a dataset</td>
</tr>

<tr>
<td><a href="#qri_config">qri config</a></td>
<td>Get and set local configuration information</td>
</tr>

<tr>
<td><a href="#qri_connect">qri connect</a></td>
<td>Connect to the distributed web by spinning up a Qri node</td>
</tr>

<tr>
<td><a href="#qri_diff">qri diff</a></td>
<td>Compare differences between two datasets</td>
</tr>

<tr>
<td><a href="#qri_export">qri export</a></td>
<td>Copy datasets to your local filesystem</td>
</tr>

<tr>
<td><a href="#qri_get">qri get</a></td>
<td>Get elements of qri datasets</td>
</tr>

<tr>
<td><a href="#qri_info">qri info</a></td>
<td>Show summarized description of a dataset</td>
</tr>

<tr>
<td><a href="#qri_list">qri list</a></td>
<td>Show a list of datasets</td>
</tr>

<tr>
<td><a href="#qri_log">qri log</a></td>
<td>Show log of dataset history</td>
</tr>

<tr>
<td><a href="#qri_new">qri new</a></td>
<td>Create a new dataset</td>
</tr>

<tr>
<td><a href="#qri_peers">qri peers</a></td>
<td>Commands for working with peers</td>
</tr>

<tr>
<td><a href="#qri_registry">qri registry</a></td>
<td>Commands for working with a qri registry</td>
</tr>

<tr>
<td><a href="#qri_remove">qri remove</a></td>
<td>Remove a dataset from your local repository</td>
</tr>

<tr>
<td><a href="#qri_rename">qri rename</a></td>
<td>Change the name of a dataset</td>
</tr>

<tr>
<td><a href="#qri_render">qri render</a></td>
<td>Execute a template against a dataset</td>
</tr>

<tr>
<td><a href="#qri_save">qri save</a></td>
<td>Save changes to a dataset</td>
</tr>

<tr>
<td><a href="#qri_search">qri search</a></td>
<td>Search qri</td>
</tr>

<tr>
<td><a href="#qri_setup">qri setup</a></td>
<td>Initialize qri and IPFS repositories, provision a new qri ID</td>
</tr>

<tr>
<td><a href="#qri_use">qri use</a></td>
<td>Select datasets for use with the qri get command</td>
</tr>

<tr>
<td><a href="#qri_validate">qri validate</a></td>
<td>Show schema validation errors</td>
</tr>

<tr>
<td><a href="#qri_version">qri version</a></td>
<td>Print the version number</td>
</tr>
</tbody>
</table>

<hr />

<p><a id='qri_add'></a></p>

<h2 id="qri-add">qri add</h2>

<p>Add a dataset from another peer</p>

<h3 id="synopsis">Synopsis</h3>

<p>Add retrieves a dataset owned by another peer and adds it to your repo.
The dataset reference of the dataset will remain the same, including
the name of the peer that originally added the dataset.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri add <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># add a dataset named their_data, owned by other_peer:
</span><span class="c1"></span>$ qri add other_peer/their_data</code></pre></div>
<h3 id="options">Options</h3>

<pre><code>  -h, --help   help for add
</code></pre>

<hr />

<p><a id='qri_body'></a></p>

<h2 id="qri-body">qri body</h2>

<p>Get the body of a dataset</p>

<h3 id="synopsis-1">Synopsis</h3>

<p><code>qri body</code> reads entries from a dataset. Default is 50 entries, starting from the beginning of the body. You can using the <code>--limit</code> and <code>--offset</code> flags to iterate through the dataset body.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri body <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-1">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># show the first 50 rows of a dataset:
</span><span class="c1"></span>$ qri body me/dataset_name

<span class="c1"># show the next 50 rows of a dataset:
</span><span class="c1"></span>$ qri body --offset <span class="m">50</span> me/dataset_name

<span class="c1"># save the body as csv to file
</span><span class="c1"></span>$ qri body -o new_file.csv -f csv me/dataset_name</code></pre></div>
<h3 id="options-1">Options</h3>

<pre><code>  -a, --all             read all dataset entries (overrides limit, offest)
  -f, --format string   format to export. one of [json,csv,cbor] (default &quot;json&quot;)
  -h, --help            help for body
  -l, --limit int       max number of records to read (default 50)
  -s, --offset int      number of records to skip
  -o, --output string   path to write to, default is stdout
</code></pre>

<hr />

<p><a id='qri_config'></a></p>

<h2 id="qri-config">qri config</h2>

<p>Get and set local configuration information</p>

<h3 id="synopsis-2">Synopsis</h3>

<p>&lsquo;qri config&rsquo; encapsulates all settings that control the behaviour of qri.
This includes all kinds of stuff: your profile details; enabling &amp; disabling
different services; what kind of output qri logs to;
which ports on qri serves on; etc.</p>

<p>Configuration is stored as a .yaml file kept at $QRI_PATH, or provided at CLI
runtime via command a line argument.</p>

<p>For details on each config field checkout:
<a href="https://github.com/qri-io/qri/blob/master/config/readme.md">https://github.com/qri-io/qri/blob/master/config/readme.md</a></p>

<h3 id="examples-2">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># get your profile information
</span><span class="c1"></span>$ qri config get profile

<span class="c1"># set your api port to 4444
</span><span class="c1"></span>$ qri config <span class="nb">set</span> api.port <span class="m">4444</span>

<span class="c1"># disable rpc connections:
</span><span class="c1"></span>$ qri config <span class="nb">set</span> rpc.enabled false</code></pre></div>
<h3 id="options-2">Options</h3>

<pre><code>  -h, --help   help for config
</code></pre>

<hr />

<p><a id='qri_config_get'></a></p>

<h2 id="qri-config-get">qri config get</h2>

<p>get configuration settings</p>

<h3 id="synopsis-3">Synopsis</h3>

<p>get outputs your current configuration file with private keys
removed by default, making it easier to share your qri configuration settings.</p>

<p>You can get particular parts of the config by using dot notation to
traverse the config object. For details on each config field checkout:
<a href="https://github.com/qri-io/qri/blob/master/config/readme.md">https://github.com/qri-io/qri/blob/master/config/readme.md</a></p>

<p>The &ndash;with-private-keys option will show private keys.
PLEASE PLEASE PLEASE NEVER SHARE YOUR PRIVATE KEYS WITH ANYONE. EVER.
Anyone with your private keys can impersonate you on qri.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri config get <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-3">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># get the entire config
</span><span class="c1"></span>qri config get

<span class="c1"># get the config profile
</span><span class="c1"></span>qri config get profile

<span class="c1"># get the profile description
</span><span class="c1"></span>qri config get profile.description</code></pre></div>
<h3 id="options-3">Options</h3>

<pre><code>  -c, --concise             print output without indentation, only applies to json format
  -f, --format string       data format to export. either json or yaml (default &quot;yaml&quot;)
  -h, --help                help for get
  -o, --output string       path to export to
      --with-private-keys   include private keys in export
</code></pre>

<hr />

<p><a id='qri_config_set'></a></p>

<h2 id="qri-config-set">qri config set</h2>

<p>Set configuration options</p>

<h3 id="synopsis-4">Synopsis</h3>

<p>&lsquo;qri config set&rsquo; allows you to set configuration options. You can set
particular parts of the config by using dot notation to traverse the
config object.</p>

<p>While the &lsquo;qri config get&rsquo; command allows you to view the whole config,
or only parts of it, the &lsquo;qri config set&rsquo; command is more specific.</p>

<p>If the config object were a tree and each field a branch, you can only
set the leaves of the branches. In other words, the you cannot set a
field that is itself an object or array. For details on each config
field checkout: <a href="https://github.com/qri-io/qri/blob/master/config/readme.md">https://github.com/qri-io/qri/blob/master/config/readme.md</a></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri config <span class="nb">set</span> <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-4">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># set a profile description
</span><span class="c1"></span>qri config <span class="nb">set</span> profile.description <span class="s2">&#34;This is my new description that I
</span><span class="s2">am very proud of and want displayed in my profile&#34;</span>

<span class="c1"># disable rpc communication
</span><span class="c1"></span>qri config <span class="nb">set</span> rpc.enabled false</code></pre></div>
<h3 id="options-4">Options</h3>

<pre><code>  -h, --help   help for set
</code></pre>

<hr />

<p><a id='qri_connect'></a></p>

<h2 id="qri-connect">qri connect</h2>

<p>Connect to the distributed web by spinning up a Qri node</p>

<h3 id="synopsis-5">Synopsis</h3>

<p>While it’s not totally accurate, connect is like starting a server. Running
connect will start a process and stay there until you exit the process
(ctrl+c from the terminal, or killing the process using tools like activity
monitor on the mac, or the aptly-named “kill” command). Connect does three main
things:
- Connect to the qri distributed network
- Connect to IPFS
- Start a local API server</p>

<p>When you run connect you are connecting to the distributed web, interacting with
peers &amp; swapping data.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri connect <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="options-5">Options</h3>

<pre><code>      --api-port int           port to start api on
      --disable-api            disables api, overrides the api-port flag
      --disable-rpc            disables rpc, overrides the rpc-port flag
      --disable-webapp         disables webapp, overrides the webapp-port flag
      --disconnect-after int   duration to keep connected in seconds, 0 means run indefinitely
  -h, --help                   help for connect
      --read-only              run qri in read-only mode, limits the api endpoints
      --registry string        specify registry to setup with. only works when --setup is true
      --rpc-port int           port to start rpc listener on
      --setup                  run setup if necessary, reading options from environment variables
      --webapp-port int        port to serve webapp on
</code></pre>

<hr />

<p><a id='qri_diff'></a></p>

<h2 id="qri-diff">qri diff</h2>

<p>Compare differences between two datasets</p>

<h3 id="synopsis-6">Synopsis</h3>

<p>Diff compares two datasets from your repo and prints a representation
of the differences between them.  You can specifify the datasets
either by name or by their hash. You can compare different versions of
the same dataset.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri diff <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-5">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># show diff between two versions of the same dataset:
</span><span class="c1"></span>$ qri diff me/annual_pop@/ipfs/QmcBZoEQ7ot4UYKn1JM3gwd4LHorj6FJ4Ep19rfLBT3VZ8 
me/annual_pop@/ipfs/QmVvqsge5wqp4piJbLArwVB6iJSTrdM8ZRpHY7fikASrr8

<span class="c1"># show diff between two different datasets:
</span><span class="c1"></span>$ qri diff me/population_2016 me/population_2017</code></pre></div>
<h3 id="options-6">Options</h3>

<pre><code>  -d, --display string   set display format [reg|short|delta|detail]
  -h, --help             help for diff
</code></pre>

<hr />

<p><a id='qri_export'></a></p>

<h2 id="qri-export">qri export</h2>

<p>Copy datasets to your local filesystem</p>

<h3 id="synopsis-7">Synopsis</h3>

<p>Export gets datasets out of qri. By default it exports only the dataset body.</p>

<p>To export to a specific directory, use the &ndash;output flag.</p>

<p>If you want an empty dataset that can be filled in with details to create a
new dataset, use &ndash;blank.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri <span class="nb">export</span> <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-6">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># export dataset
</span><span class="c1"></span>qri <span class="nb">export</span> me/annual_pop

<span class="c1"># export without the body of the dataset
</span><span class="c1"></span>qri <span class="nb">export</span> --no-body me/annual_pop

<span class="c1"># export to a specific directory
</span><span class="c1"></span>qri <span class="nb">export</span> -o ~/new_directory me/annual_pop</code></pre></div>
<h3 id="options-7">Options</h3>

<pre><code>      --blank                export a blank dataset YAML file, overrides all other flags except output
      --body-format string   format for dataset body. default is the original data format. options: json, csv, cbor
  -f, --format string        format for all exported files, except for body. yaml is the default format. options: yaml, json (default &quot;yaml&quot;)
  -h, --help                 help for export
  -b, --no-body              don't include dataset body in export
  -o, --output string        path to write to, default is current directory
  -d, --peer-dir             export to a peer name namespaced directory
</code></pre>

<hr />

<p><a id='qri_get'></a></p>

<h2 id="qri-get">qri get</h2>

<p>Get elements of qri datasets</p>

<h3 id="synopsis-8">Synopsis</h3>

<p>Get the qri dataset (except for the body). You can also get portions of
the dataset: meta, structure, viz, transform, and commit. To narrow down
further to specific fields in each section, use dot notation. The get
command prints to the console in yaml format, by default.</p>

<p>You can get pertinent information on multiple datasets at the same time
by supplying more than one dataset reference.</p>

<p>Check out <a href="https://qri.io/docs/reference/dataset/">https://qri.io/docs/reference/dataset/</a> to learn about each section of the
dataset and its fields.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri get <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-7">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># print the entire dataset to the console
</span><span class="c1"></span>qri get me/annual_pop

<span class="c1"># print the meta to the console
</span><span class="c1"></span>qri get meta me/annual_pop

<span class="c1"># print the dataset body size to the console
</span><span class="c1"></span>qri get structure.length me/annual_pop

<span class="c1"># print the dataset body size for two different datasets
</span><span class="c1"></span>qri get structure.length me/annual_pop me/annual_gdp</code></pre></div>
<h3 id="options-8">Options</h3>

<pre><code>      --concise         print output without indentation, only applies to json format
  -f, --format string   set output format [json, yaml] (default &quot;yaml&quot;)
  -h, --help            help for get
</code></pre>

<hr />

<p><a id='qri_info'></a></p>

<h2 id="qri-info">qri info</h2>

<p>Show summarized description of a dataset</p>

<h3 id="synopsis-9">Synopsis</h3>

<p>Info describes datasets. By default, it will return the peername, dataset name,
the network, the dataset hash, the file size, the length of the datasets,
and the validation errors.</p>

<p>Using the <code>--format</code> flag, you can get output in json. This will return a json
representation of the dataset, without the dataset body, identical to
<code>qri get --format json</code>.</p>

<p>To get info on a peer&rsquo;s dataset, you must be running <code>qri connect</code> in a separate
terminal window.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri info <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-8">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># get info for my dataset:
</span><span class="c1"></span>qri info me/annual_pop

<span class="c1"># get info for a dataset at a specific version:
</span><span class="c1"></span>qri info me@/ipfs/QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn

or

qri info me/comics@/ipfs/QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn

<span class="c1"># get info in json format
</span><span class="c1"></span>qri info -f json me/annual_pop

<span class="c1"># to get info on a peer&#39;s dataset, spin up your qri node
</span><span class="c1"></span>qri connect

<span class="c1"># then, in a separate window, request the info from peer b5
</span><span class="c1"></span>qri info b5/comics</code></pre></div>
<h3 id="options-9">Options</h3>

<pre><code>  -f, --format string   set output format [json]
  -h, --help            help for info
</code></pre>

<hr />

<p><a id='qri_list'></a></p>

<h2 id="qri-list">qri list</h2>

<p>Show a list of datasets</p>

<h3 id="synopsis-10">Synopsis</h3>

<p>List shows lists of datasets, including names and current hashes.</p>

<p>The default list is the latest version of all datasets you have on your local
qri repository.</p>

<p>When used in conjunction with <code>qri connect</code>, list can list a peer&rsquo;s dataset. You
must have <code>qri connect</code> running in a separate terminal window.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri list <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-9">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># show all of your datasets:
</span><span class="c1"></span>qri list

<span class="c1"># to view the list of your peer&#39;s dataset,
</span><span class="c1"># in one terminal window:
</span><span class="c1"></span>qri connect

<span class="c1"># in a separate terminal window, to show all of b5&#39;s datasets:
</span><span class="c1"></span>qri list b5</code></pre></div>
<h3 id="options-10">Options</h3>

<pre><code>  -f, --format string   set output format [json]
  -h, --help            help for list
  -l, --limit int       limit results, default 25 (default 25)
  -o, --offset int      offset results, default 0
</code></pre>

<hr />

<p><a id='qri_log'></a></p>

<h2 id="qri-log">qri log</h2>

<p>Show log of dataset history</p>

<h3 id="synopsis-11">Synopsis</h3>

<p><code>qri log</code> prints a list of changes to a dataset over time. Each entry in the log is a
snapshot of a dataset taken at the moment it was saved that keeps exact details
about how that dataset looked at at that point in time.</p>

<p>We call these snapshots versions. Each version has an author (the peer that
created the version) and a message explaining what changed. Log prints these
details in order of occurrence, starting with the most recent known version,
working backwards in time.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri log <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-10">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># show log for the dataset b5/precip:
</span><span class="c1"></span>$ qri log b5/precip</code></pre></div>
<h3 id="options-11">Options</h3>

<pre><code>  -h, --help         help for log
  -l, --limit int    limit results, default 25 (default 25)
  -o, --offset int   offset results, default 0
</code></pre>

<hr />

<p><a id='qri_new'></a></p>

<h2 id="qri-new">qri new</h2>

<p>Create a new dataset</p>

<h3 id="synopsis-12">Synopsis</h3>

<p>New creates a dataset from data you supply. Please note that all data added
to qri is made public on the distributed web when you run qri connect</p>

<p>When adding data, you can supply metadata and dataset structure, but it’s not
required. qri does what it can to infer the details you don’t provide.
qri currently supports three data formats:
- CSV  (Comma Separated Values)
- JSON (Javascript Object Notation)
- CBOR (Concise Binary Object Representation)</p>

<p>Once you’ve added data, you can use the export command to pull the data out of
qri, change the data outside of qri, and use the save command to record those
changes to qri.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri new <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-11">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># create a new dataset named annual_pop:
</span><span class="c1"></span>$ qri new --body data.csv me/annual_pop

<span class="c1"># create a dataset with a dataset data file:
</span><span class="c1"></span>$ qri new --file dataset.yaml --body comics.csv me/comic_characters</code></pre></div>
<h3 id="options-12">Options</h3>

<pre><code>  -b, --body string       path to file or url for contents of dataset
  -f, --file string       dataset data file in either yaml or json format
  -h, --help              help for new
  -m, --message string    commit message
      --private           make dataset private. WARNING: not yet implemented. Please refer to https://github.com/qri-io/qri/issues/291 for updates
  -p, --publish           publish this dataset to the registry
      --secrets strings   transform secrets as comma separated key,value,key,value,... sequence
  -t, --title string      commit title
</code></pre>

<hr />

<p><a id='qri_peers'></a></p>

<h2 id="qri-peers">qri peers</h2>

<p>Commands for working with peers</p>

<h3 id="synopsis-13">Synopsis</h3>

<p>The <code>peers</code> commands allow you to interact with other peers on the Qri network.
In order for these commands to work, you must be running a Qri node. This
node allows you to communicate on the network. To spin up a Qri node, run
<code>qri connect</code> in a separate terminal. This will connect you to the network,
until you choose to close the connection by ending the session or closing
the terminal.</p>

<h3 id="options-13">Options</h3>

<pre><code>  -h, --help   help for peers
</code></pre>

<hr />

<p><a id='qri_peers_connect'></a></p>

<h2 id="qri-peers-connect">qri peers connect</h2>

<p>Connect to a peer</p>

<h3 id="synopsis-14">Synopsis</h3>

<p>Connect to a peer using a peername, peer ID, or multiaddress. Qri will use this name, id, or address
to find a peer to which it has not automatically connected.</p>

<p>You must have a Qri node running (<code>qri connect</code>) in a separate terminal. You will only be able
to connect to a peer that also has spun up it&rsquo;s own Qri node.</p>

<p>A multiaddress, or multiaddr, is the most specific way to refer to a peer&rsquo;s location, and is therefore
the most sure-fire way to connect to a peer.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri peers connect <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-12">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># spin up a Qri node
</span><span class="c1"></span>qri connect

<span class="c1"># in a separate terminal, connect to a specific peer
</span><span class="c1"></span>qri peers connect /ip4/192.168.0.194/tcp/4001/ipfs/QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn</code></pre></div>
<h3 id="options-14">Options</h3>

<pre><code>  -h, --help   help for connect
</code></pre>

<hr />

<p><a id='qri_peers_disconnect'></a></p>

<h2 id="qri-peers-disconnect">qri peers disconnect</h2>

<p>Explicitly close a connection to a peer</p>

<h3 id="synopsis-15">Synopsis</h3>

<p>Explicitly close a connection to a peer using a peername, peer id, or multiaddress.</p>

<p>You can close all connections to the Qri network by ending your Qri node session.</p>

<p>Use the disconnect command when you want to stay connected to the network, but want to
close your connection to a specific peer. This could be because that connection is hung,
the connection is pulling too many resources, or because you simply no longer need an
explicit connection.  This is not the same as blocking a peer or connection.</p>

<p>Once you close a connection to a peer, you or that peer can immediately open another
connection.</p>

<p>You must have <code>qri connect</code> running in another terminal.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri peers disconnect <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-13">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># disconnect from a peer using a multiaddr
</span><span class="c1"></span>qri peers disconnect /ip4/192.168.0.194/tcp/4001/ipfs/QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn</code></pre></div>
<h3 id="options-15">Options</h3>

<pre><code>  -h, --help   help for disconnect
</code></pre>

<hr />

<p><a id='qri_peers_info'></a></p>

<h2 id="qri-peers-info">qri peers info</h2>

<p>Get info on a Qri peer</p>

<h3 id="synopsis-16">Synopsis</h3>

<p>The peers info command returns a peer&rsquo;s profile information. The default
format is yaml.</p>

<p>Using the <code>--verbose</code> flag, you can also view a peer&rsquo;s network information.</p>

<p>You must have <code>qri connect</code> running in another terminal.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri peers info <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-14">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># show info on a peer named &#34;b5&#34;:
</span><span class="c1"></span>$ qri peers info b5

<span class="c1"># show info in json:
</span><span class="c1"></span>$ qri peers info b5 --format json</code></pre></div>
<h3 id="options-16">Options</h3>

<pre><code>      --format string   output format. formats: yaml, json (default &quot;yaml&quot;)
  -h, --help            help for info
  -v, --verbose         show verbose profile info
</code></pre>

<hr />

<p><a id='qri_peers_list'></a></p>

<h2 id="qri-peers-list">qri peers list</h2>

<p>List known qri peers</p>

<h3 id="synopsis-17">Synopsis</h3>

<p>Lists the peers to which your Qri node is connected.</p>

<p>You must have <code>qri connect</code> running in another terminal.</p>

<p>To find peers that are not online, but to which your node has previously been
connected, use the <code>--cached</code> flag.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri peers list <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-15">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># spin up a Qri node
</span><span class="c1"></span>qri connect

<span class="c1"># thenin a separate terminal, to list qri peers:
</span><span class="c1"></span>qri peers list

<span class="c1"># to ensure you get a cached version of the list:
</span><span class="c1"></span>qri peers list --cached</code></pre></div>
<h3 id="options-17">Options</h3>

<pre><code>  -c, --cached           show peers that aren't online, but previously seen
  -h, --help             help for list
  -l, --limit int        limit max number of peers to show (default 200)
  -n, --network string   specify network to show peers from [ipfs]
  -s, --offset int       number of peers to skip during listing
</code></pre>

<hr />

<p><a id='qri_registry'></a></p>

<h2 id="qri-registry">qri registry</h2>

<p>Commands for working with a qri registry</p>

<h3 id="synopsis-18">Synopsis</h3>

<p>Registries are federated public records of datasets and peers.
These records form a public facing central lookup for your datasets, so others
can find them through search tools and via web links. You can use registry
commands to control how your datasets are published to registries, opting in or out
on a dataset-by-dataset basis.</p>

<p>Unpublished dataset info will be held locally so you can still interact
with it. And your datasets will be available to others peers when you run
&ldquo;qri connect&rdquo;, but will not show up in search results, and will not be
displayed on lists of registry datasets.</p>

<p>Qri is designed to work without a registry should you want to opt out of
centralized listing entirely, but know that peers who <em>do</em> participate in
registries may choose to deprioritize connections with you. Opting out of a
registry entirely is better left to advanced users.</p>

<p>You can opt out of registries entirely by running:
$ qri config set registry.location &ldquo;&rdquo;</p>

<h3 id="options-18">Options</h3>

<pre><code>  -h, --help   help for registry
</code></pre>

<hr />

<p><a id='qri_registry_publish'></a></p>

<h2 id="qri-registry-publish">qri registry publish</h2>

<p>Publish dataset info to the registry</p>

<h3 id="synopsis-19">Synopsis</h3>

<p>Publishes the dataset information onto the registry. There will be a record
of your dataset on the registry, and if your dataset is less than 20mbs,
Qri will back your dataset up onto the registry.</p>

<p>Published datasets can be found by other peers using the <code>qri search</code> command.</p>

<p>Datasets are by default published to the registry when they are created.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri registry publish <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-16">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># Publish a dataset you&#39;ve created to the registry:
</span><span class="c1"></span>$ qri registry publish me/dataset_name</code></pre></div>
<h3 id="options-19">Options</h3>

<pre><code>  -h, --help   help for publish
</code></pre>

<hr />

<p><a id='qri_registry_unpublish'></a></p>

<h2 id="qri-registry-unpublish">qri registry unpublish</h2>

<p>remove dataset info from the registry</p>

<h3 id="synopsis-20">Synopsis</h3>

<p>Unpublish will remove the reference to your dataset from the registry. If
you dataset was previously backed up onto the registry, this backup will
be removed.</p>

<p>This dataset will no longer show up in search results.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri registry unpublish <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-17">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># Remove a dataset from the registry:
</span><span class="c1"></span>$ qri registry unpublish me/dataset_name</code></pre></div>
<h3 id="options-20">Options</h3>

<pre><code>  -h, --help   help for unpublish
</code></pre>

<hr />

<p><a id='qri_remove'></a></p>

<h2 id="qri-remove">qri remove</h2>

<p>Remove a dataset from your local repository</p>

<h3 id="synopsis-21">Synopsis</h3>

<p>Remove gets rid of a dataset from your qri node. After running remove, qri will
no longer list your dataset as being available locally. By default, remove frees
up the space taken up by the dataset, but not right away. The IPFS repo that’s
storing the data will need to garbage-collect that data when it’s good &amp; ready,
which could be anytime. If you’re running low on space, garbage collection will
be sooner.</p>

<p>Keep in mind that by default your IPFS repo is capped at 10GB in size, if you
adjust this cap using IPFS, qri will respect it.</p>

<p>In the future we’ll add a flag that’ll force immediate removal of a dataset from
both qri &amp; IPFS. Promise.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri remove <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-18">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># remove a dataset named annual_pop:
</span><span class="c1"></span>$ qri remove me/annual_pop</code></pre></div>
<h3 id="options-21">Options</h3>

<pre><code>  -h, --help   help for remove
</code></pre>

<hr />

<p><a id='qri_rename'></a></p>

<h2 id="qri-rename">qri rename</h2>

<p>Change the name of a dataset</p>

<h3 id="synopsis-22">Synopsis</h3>

<p>Rename changes the name of a dataset.</p>

<p>Note that if someone has added your dataset to their qri node, and then
you rename your local dataset, your peer&rsquo;s version of your dataset will
not have the updated name. While this won&rsquo;t break anything, it will
confuse anyone who has added your dataset before the change. Try to keep
renames to a minimum.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri rename <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-19">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># rename a dataset named annual_pop to annual_population:
</span><span class="c1"></span>$ qri rename me/annual_pop me/annual_population</code></pre></div>
<h3 id="options-22">Options</h3>

<pre><code>  -h, --help   help for rename
</code></pre>

<hr />

<p><a id='qri_render'></a></p>

<h2 id="qri-render">qri render</h2>

<p>Execute a template against a dataset</p>

<h3 id="synopsis-23">Synopsis</h3>

<p>You can use html templates, formatted in the go/html template style,
to render visualizations from your dataset. These visualizations can be charts,
graphs, or just display your dataset in a different format.</p>

<p>Use the <code>--output</code> flag to save the rendered html to a file.</p>

<p>Use the <code>--template</code> flag to use a custom template. If no template is
provided, Qri will render the dataset with a default template.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri render <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-20">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># render a dataset called me/schools:
</span><span class="c1"></span>$ qri render -o<span class="o">=</span>schools.html me/schools

<span class="c1"># render a dataset with a custom template:
</span><span class="c1"></span>$ qri render --template<span class="o">=</span>template.html me/schools</code></pre></div>
<h3 id="options-23">Options</h3>

<pre><code>  -a, --all               read all dataset entries (overrides limit, offest)
  -h, --help              help for render
  -l, --limit int         max number of records to read (default 50)
  -s, --offset int        number of records to skip
  -o, --output string     path to write output file
  -t, --template string   path to template file
</code></pre>

<hr />

<p><a id='qri_save'></a></p>

<h2 id="qri-save">qri save</h2>

<p>Save changes to a dataset</p>

<h3 id="synopsis-24">Synopsis</h3>

<p>Save is how you change a dataset, updating one or more of data, metadata, and structure.
You can also update your data via url. Every time you run save, an entry is added to
your dataset’s log (which you can see by running <code>qri log &lt;dataset_reference&gt;</code>).</p>

<p>Every time you save, you can provide a message about what
you changed and why. If you don’t provide a message
Qri will automatically generate one for you.</p>

<p>When you make an update and save a dataset that you originally added from a different
peer, the dataset gets renamed from <code>peers_name/dataset_name</code> to <code>my_name/dataset_name</code>.</p>

<p>The <code>--message</code>&rdquo; and <code>--title</code> flags allow you to add a commit message and title
to the save.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri save <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-21">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># save updated data to dataset annual_pop:
</span><span class="c1"></span>qri --body /path/to/data.csv me/annual_pop

<span class="c1"># save updated dataset (no data) to annual_pop:
</span><span class="c1"></span>qri --file /path/to/dataset.yaml me/annual_pop</code></pre></div>
<h3 id="options-24">Options</h3>

<pre><code>      --body string       path to file or url of data to add as dataset contents
  -f, --file string       dataset data file (yaml or json)
  -h, --help              help for save
  -m, --message string    commit message for save
  -p, --publish           publish this dataset to the registry
      --secrets strings   transform secrets as comma separated key,value,key,value,... sequence
  -t, --title string      title of commit message for save
</code></pre>

<hr />

<p><a id='qri_search'></a></p>

<h2 id="qri-search">qri search</h2>

<p>Search qri</p>

<h3 id="synopsis-25">Synopsis</h3>

<p>Search datasets &amp; peers that match your query. Search pings the qri registry.</p>

<p>Any dataset that has been published to the registry is available for search.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri search <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-22">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># search 
</span><span class="c1"></span>$ qri search <span class="s2">&#34;annual population&#34;</span></code></pre></div>
<h3 id="options-25">Options</h3>

<pre><code>  -f, --format string   set output format [json]
  -h, --help            help for search
</code></pre>

<hr />

<p><a id='qri_setup'></a></p>

<h2 id="qri-setup">qri setup</h2>

<p>Initialize qri and IPFS repositories, provision a new qri ID</p>

<h3 id="synopsis-26">Synopsis</h3>

<p>Setup is the first command you run to get a fresh install of Qri. If you’ve
never run qri before, you’ll need to run setup before you can do anything.</p>

<p>Setup does a few things:
- create a qri repository to keep all of your data
- provisions a new qri ID
- create an IPFS repository if one doesn’t exist</p>

<p>This command is automatically run if you invoke any Qri command without first
running setup. If setup has already been run, by default Qri won’t let you
overwrite this info.</p>

<p>Use the <code>--remove</code> to remove your Qri repo. This deletes your entire repo,
including all your datasets, and de-registers your peername from the registry.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri setup <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-23">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># run setup with a peername of your choosing:
</span><span class="c1"></span>$ qri setup --peername<span class="o">=</span>your_great_peername</code></pre></div>
<h3 id="options-26">Options</h3>

<pre><code>  -a, --anonymous            use an auto-generated peername
      --config-data string   json-encoded configuration data, specify a filepath with '@' prefix
  -h, --help                 help for setup
      --init-ipfs            initialize an IPFS repo if one isn't present (default true)
      --ipfs-config string   json-encoded configuration data, specify a filepath with '@' prefix
      --overwrite            overwrite repo if one exists
      --peername string      choose your desired peername
      --registry string      override default registry URL
      --remove               permanently remove qri, overrides all setup options
</code></pre>

<hr />

<p><a id='qri_use'></a></p>

<h2 id="qri-use">qri use</h2>

<p>Select datasets for use with the qri get command</p>

<h3 id="synopsis-27">Synopsis</h3>

<p>Run the <code>use</code> command to have Qri remember references to a specific datasets.
These datasets will be referenced for future commands, if no dataset reference
is explicitly given for those commands.</p>

<p>We created this command to ease the typing/copy and pasting burden while using
Qri to explore a dataset.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri use <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-24">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># use dataset me/dataset_name, then get meta.title:
</span><span class="c1"></span>qri use me/dataset_name
qri get meta.title

<span class="c1"># clear current selection:
</span><span class="c1"></span>qri use --clear

<span class="c1"># show current selected dataset references:
</span><span class="c1"></span>qri use --list

<span class="c1"># add multiple references to the remembered list
</span><span class="c1"></span>qri use me/population_2017 me/population_2018</code></pre></div>
<h3 id="options-27">Options</h3>

<pre><code>  -c, --clear   clear the current selection
  -h, --help    help for use
  -l, --list    list selected references
</code></pre>

<hr />

<p><a id='qri_validate'></a></p>

<h2 id="qri-validate">qri validate</h2>

<p>Show schema validation errors</p>

<h3 id="synopsis-28">Synopsis</h3>

<p>Validate checks data for errors using a schema and then printing a list of
issues. By default validate checks a dataset&rsquo;s body against it’s own schema.
Validate is a flexible command that works with data and schemas either
inside or outside of qri by providing one or both of &ndash;body and &ndash;schema
arguments.</p>

<p>Providing &ndash;schema and &ndash;body is an “external validation&rdquo; that uses nothing
stored in qri. When only one of schema or body args are provided, the other
comes from a dataset reference. For example, to check how a file “data.csv”
validates against a dataset &ldquo;foo”, we would run:</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">$ qri validate --body data.csv me/foo</code></pre></div>
<p>In this case, qri will will print any validation as if data.csv was foo’s data.</p>

<p>To see how changes to a schema will validate against a
dataset in qri, we would run:</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">$ qri validate --schema schema.json me/foo</code></pre></div>
<p>In this case, qri will print validation errors as if stucture.json was the
schema for dataset &ldquo;me/foo&rdquo;</p>

<p>Using validate this way is a great way to see how changes to data or schema
will affect a dataset before saving changes to a dataset.</p>

<p>You can get the current schema of a dataset by running the <code>qri get structure.schema</code>
command.</p>

<p>Note: &ndash;body and &ndash;schema flags will override the dataset if both flags are provided.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri validate <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="examples-25">Examples</h3>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># show errors in an existing dataset:
</span><span class="c1"></span>qri validate b5/comics

<span class="c1"># validate a new body against an existing schema
</span><span class="c1"></span>qri validate --body new_data.csv me/annual_pop

<span class="c1"># validate data against a new schema
</span><span class="c1"></span>qri validate --body data.csv --schema schema.json</code></pre></div>
<h3 id="options-28">Options</h3>

<pre><code>  -b, --body string     data file to initialize from
  -h, --help            help for validate
      --schema string   json schema file to use for validation
</code></pre>

<hr />

<p><a id='qri_version'></a></p>

<h2 id="qri-version">qri version</h2>

<p>Print the version number</p>

<h3 id="synopsis-29">Synopsis</h3>

<p>Qri uses semantic versioning.</p>

<p>For updates &amp; further information check <a href="https://github.com/qri-io/qri/releases">https://github.com/qri-io/qri/releases</a></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">qri version <span class="o">[</span>flags<span class="o">]</span></code></pre></div>
<h3 id="options-29">Options</h3>

<pre><code>  -h, --help   help for version
</code></pre>

    </div>
  </section>
</div>
</main>
  <footer></footer>


  <script src="../../../js/kube.js" type="text/javascript">
  </script>
  <script src="../../../js/kube.legenda.js" type="text/javascript">
  </script>
  <script src="../../../js/master.js" type="text/javascript">
  </script>
</body>

</html>
